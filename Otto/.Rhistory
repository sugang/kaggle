data1<-read.csv(url("stat.columbia.edu/~rachel/datasets/nyt1.csv"))
data1<-read.csv(url("http://stat.columbia.edu/~rachel/datasets/nyt1.csv"))
View(data1)
names(data1)
data1$Age
data1$age_group = cut(data1$Age, breaks=c(18,25,35,45,55,65))
View(data1)
View(data1)
data1$age_group = cut(data1$Age, breaks=c(18,25,35,45,55,65), right = FALSE)
View(data1)
View(data1)
inf
INF
Inf
data1$age_group = cut(data1$Age, breaks=c(18,25,35,45,55,65, Inf''), right = FALSE)
data1$age_group = cut(data1$Age, breaks=c(18,25,35,45,55,65, Inf), right = FALSE)
View(data1)
View(data1)
data1$age_group = cut(data1$Age, breaks=c(-Inf, 18,25,35,45,55,65, Inf), right = FALSE)
View(data1)
View(data1)
install.packages("ggplot2")
install.packages("ggplot2")
install.packages("ggplot2", dependencies = TRUE)
library(ggplot2)
library("ggplot2")
install.packages("installr"); library(installr)
install.packages("ggplot2", dependencies = TRUE)
library("ggplot2")
qplot(Impressions, Clicks/Impressions, data = data1)
qplot(Impressions, Clicks/Impressions, data = data1) + facet_grid(age_group ~.)
qplot(Impressions, ..density.., data = data1) + facet_grid(age_group ~.)
qplot(Impressions, data = data1) + facet_grid(age_group ~.)
qplot(Impressions, data = data1) + facet_grid(.~age_group)
qplot(Impressions, data = data1, geom="density") + facet_grid(.~age_group)
qplot(Clicks/Impressions, data = data1, geom="density") + facet_grid(.~age_group)
qplot(Clicks/Impressions, data = data1, geom="density", log="y") + facet_grid(.~age_group) +
;
qplot(Clicks/Impressions, data = data1, geom="density", log="y") + facet_grid(.~age_group)
qplot(Clicks/Impressions, data = data1, geom="density") + facet_grid(.~age_group) + coord_trans(y="pow10")
qplot(Clicks/Impressions, data = data1, geom="density") + facet_grid(.~age_group) + coord_trans(x="identity",y="pow10")
qplot(Clicks/Impressions, data = data1, geom="density") + facet_grid(.~age_group)
last_plot() + corrd_trans(x="pow10",y="pow10")
last_plot() + coord_trans(x="pow10",y="pow10")
qplot(Clicks/Impressions, data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group)
qplot(Clicks/Impressions, data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group) + coord_trans(x='pow10')
qplot(Clicks/Impressions, data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group) + coord_trans(x='log10')
qplot(Clicks/Impressions, data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group) + coord_trans(x="pow10")
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group) + coord_trans(x="log10")
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(.~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(Gender.~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="density") + facet_grid(Gender~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="histogram") + facet_grid(Gender~age_group)
summary(data1)
qplot(log10(Clicks), data = subset(data1, Age > 0), geom="histogram") + facet_grid(.~age_group)
qplot(Clicks, data = subset(data1, Age > 0), geom="histogram") + facet_grid(.~age_group)
qplot(Clicks/Impression, data = subset(data1, Age > 0), geom="histogram") + facet_grid(.~age_group)
qplot(Clicks/Impressions, data = subset(data1, Age > 0), geom="histogram") + facet_grid(.~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="histogram") + facet_grid(Gender~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="histogram") + facet_grid(Singed_In~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="histogram") + facet_grid(Siged_In~age_group)
qplot(log10(Clicks/Impressions), data = subset(data1, Age > 0), geom="histogram") + facet_grid(Signed_In~age_group)
qplot(log10(Clicks/Impressions), data = data1, geom="histogram") + facet_grid(Signed_In~age_group)
qplot(log10(Clicks/Impressions), data = data1, geom="density") + facet_grid(Signed_In~age_group)
devtools::install_github('dmlc/xgboost',subdir='R-package')
library("devtools")
install.packages("devtools")
library("devtools")
a <- c(1,2,3,4,5)
a[5]
a[6]
a[6] <- 1
a
train = read.csv('./Data/train.csv',header=TRUE,stringsAsFactors = F)
test = read.csv('./Data/test.csv',header=TRUE,stringsAsFactors = F)
train = train[,-1]
test = test[,-1]
setwd("~/GitHub/kaggle/Otto")
require(xgboost)
require(methods)
require(caret)
library(ggplot2)
train = read.csv('./Data/train.csv',header=TRUE,stringsAsFactors = F)
test = read.csv('./Data/test.csv',header=TRUE,stringsAsFactors = F)
train = train[,-1]
test = test[,-1]
y = train[,ncol(train)]
y = gsub('Class_','',y)
y = as.integer(y)-1 #xgboost take features in [0,numOfClass)
x = rbind(train[,-ncol(train)],test)
x = as.matrix(x)
x = matrix(as.numeric(x),nrow(x),ncol(x))
trind = 1:length(y)
teind = (nrow(train)+1):nrow(x)
pre_pro = preProcess(x[trind,], method = "YeoJohnson")
x = predict(pre_pro, x)
?sample
sample.int(length(para_idx),size=1)
sample.int(length(param_idx),size=1)
param_idx = c(33,54,56,59,61,62,63,64,65,66,67,68,70,72,74,75,76,77,79,82,84,85,86,88,91,92,93,94,95,97,98)
param_nround = c(473,456,402,387,556,528,498,451,452,424,431,409,379,502,481,455,432,447,422,513,472,449,443,432,558,500,507,483,474,451,448)
sample.int(length(param_idx),size=1)
